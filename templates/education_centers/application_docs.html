{% extends "layout.html" %}
{% load static %}

{% block title %}Управление мероприятиями{% endblock %}
{% block style %}
    <link href="{% static 'education_centers/css/abilimpics.css' %}" rel="stylesheet">
    <style>
        h1 {
            text-align: center;
            font-size: 32px !important;
        }
        form {
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 500px;
            background-color: white;
            padding: 20px;
            border-radius: 10px;
        }
        .form-group {
            width: 100%;
        }
        .btn {
            margin-top: 10px;
            width: 100%;
        }

    </style>
{% endblock %}
{% block script %}
    <script src="{% static 'education_centers/js/application_docs.js' %}"></script>
{% endblock %}

{% block body %}
    <div class="page-hdr">
        <h1>Генерация заявления на отправку документа о квалификации</h1>
    </div>
    <div class="page-body">
        <form action="{% url 'application_docs' %}" method="post" name="download-application" id="download-application" {% if passport_series is not None%}style="display: none;"{% endif %}>
            <div class="form-group mb-3">
                <label for="full_name" class="form-label">ФИО</label>
                <input type="text" class="form-control" id="full_name" maxlength="500" name="full_name" required>
            </div>
            <div class="form-group mb-3">
                <label for="passport_series" class="form-label">Серия и номер паспорта</label>
                <input type="text" class="form-control" id="passport_series" maxlength="20" name="passport_series" required>
            </div>
            <div class="form-group mb-3">
                <label for="passport_issued_by" class="form-label">Кем выдан паспорт</label>
                <input type="text" class="form-control" id="passport_issued_by" maxlength="500" name="passport_issued_by" required>
            </div>
            <div class="form-group mb-3">
                <label for="passport_issued_date" class="form-label">Дата выдачи паспорта</label>
                <input type="date" class="form-control" id="passport_issued_date" name="passport_issued_date" required>
            </div>
            <div class="form-group mb-3">
                <label for="email" class="form-label">Email</label>
                <input type="email" class="form-control" id="email" name="email" required>
            </div>
            <div class="form-group mb-3">
                <label for="phone" class="form-label">Телефон</label>
                <input type="text" class="form-control" id="phone" maxlength="120" name="phone" required>
            </div>
            <div class="form-group mb-3">
                <label for="index" class="form-label">Почтовый индекс</label>
                <input type="text" class="form-control" id="index" maxlength="20" name="index" required>
            </div>
            <div class="form-group mb-3">
                <label for="address" class="form-label">Адрес</label>
                <textarea class="form-control" id="address" name="address" required placeholder="субъект РФ, населенный пункт, улица/другое,  дом/другое, корпус/другое, квартира/другое"></textarea>
            </div>
            <button class="btn btn-primary" name="generate-application">Сгенерировать заявление</button>
            <div class="btn btn-outline-primary" id="switch-download">Загрузить подписанное заявление</div>
        </form>
        
        <form action="{% url 'application_docs' %}" method="post" name="upload-application" id="upload-application" {% if passport_series is None%}style="display: none;"{% endif %}>
            <h2>Загрузка подписанного заявления</h2>
            {% if passport_series == "New" %}
            <div class="alert alert-danger" role="alert">
                Не нашли заявления с такими паспортными данными (перед отправкой скана, сгенерируйте заявление)
            </div>
            {% endif %}
            <div class="form-group mb-3">
                <label for="passport_series" id="shadow-field-passport" class="form-label">Серия и номер паспорта</label>
                <input type="text" class="form-control" id="passport_series" maxlength="20" name="passport_series" required>
            </div>
            {{ file_input }}
            
            <button class="btn btn-primary" name="upload-application">Загрузить подписанное заявление</button>
            <div class="btn btn-outline-primary" id="switch-generate">Сгенерировать заявление</div>
        </form>
    </div>
{% endblock %}
